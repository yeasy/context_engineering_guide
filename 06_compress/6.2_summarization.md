## 6.2 摘要与提取技术

### 6.2.1 抽取式方法

抽取式方法从原文中选择重要句子或段落，保持原文表述。

#### 关键句提取

基于句子重要性评分选择关键句：

**TextRank 算法**

借鉴 PageRank 思想，根据句子之间的相似度构建图，计算每个句子的中心性分数。

**基于嵌入的方法**

1. 计算每个句子的嵌入向量
2. 计算句子与文档整体的相似度
3. 选择相似度最高的句子

#### 关键片段提取

提取包含关键信息的文本片段：
- 包含实体的句子
- 包含数字和日期的句子
- 定义性语句

#### 抽取式方法的优缺点

```
优点：
- 保持原文表述，准确性高
- 计算成本相对较低
- 可追溯到原文

缺点：
- 可能不够连贯
- 无法重组或精简表达
- 受限于原文的表述质量
```

### 6.2.2 生成式方法

使用语言模型生成新的精简表述。

#### LLM 摘要

直接使用 LLM 生成摘要：

```
请将以下内容总结为不超过 200 字的摘要，保留关键信息：
[原始内容]
```

技巧：
- 明确指定输出长度
- 指明需要保留的信息类型
- 提供输出格式要求

#### 递进式摘要

对于超长文档，采用递进压缩：

```mermaid
graph LR
    A["长文档"] --> B["分段摘要"]
    B --> C["摘要聚合"]
    C --> D["整体摘要"]
```

1. 将文档分成多个段落
2. 分别生成段落摘要
3. 合并段落摘要
4. 可选：对合并结果再次摘要

#### 多级摘要

生成不同详细程度的摘要，按需使用：

| 级别 | 长度 | 用途 |
|------|------|------|
| 标题 | 10-20 词 | 快速索引 |
| 简述 | 50-100 词 | 概览 |
| 详情 | 200-500 词 | 深入了解 |

#### 生成式方法的优缺点

```
优点：
- 表述更连贯流畅
- 能够重组和精简
- 可按需定制输出

缺点：
- 可能引入新的错误
- 需要额外的 LLM 调用成本
- 可追溯性较弱
```

### 6.2.3 信息提取

从文本中提取结构化信息，是另一种压缩形式。

#### 实体提取

提取关键实体：人名、地名、时间、数值等。

```
输入：2024年3月，张三在北京发布了新产品，售价1999元。
输出：
- 人物：张三
- 地点：北京
- 时间：2024年3月
- 价格：1999元
```

#### 关系提取

提取实体之间的关系：

```
输入：李四是A公司的CEO，该公司总部位于上海。
输出：
- (李四, 职位, A公司CEO)
- (A公司, 总部, 上海)
```

#### 事实提取

提取关键事实点：

```
输入：[长篇报告...]
输出：
1. 2023年营收增长15%
2. 新增用户100万
3. 计划明年进入欧洲市场
```

### 6.2.4 最佳实践

1. **根据场景选择方法**
   - 需要精确引用 → 抽取式
   - 需要精炼表达 → 生成式
   - 需要结构化数据 → 信息提取

2. **组合使用**
   - 先抽取关键段落，再生成摘要
   - 摘要 + 关键事实列表

3. **保留元信息**
   - 记录摘要的来源
   - 标注压缩方法和时间

4. **质量验证**
   - 抽样检查压缩质量
   - 对比压缩前后的任务效果
